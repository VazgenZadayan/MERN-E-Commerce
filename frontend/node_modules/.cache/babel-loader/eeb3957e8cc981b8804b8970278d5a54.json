{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{listOrders}from'store/actions/orderActions';import Loader from'components/Loader';import Table from'@mui/material/Table';import Button from'@mui/material/Button';import TableRow from'@mui/material/TableRow';import Container from'@mui/material/Container';import TableHead from'@mui/material/TableHead';import TableCell from'@mui/material/TableCell';import TableBody from'@mui/material/TableBody';import Typography from'@mui/material/Typography';import image from'assets/detailBackground.jpg';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderListScreen=function OrderListScreen(_ref){var location=_ref.location,history=_ref.history;var classes=useStyles();var dispatch=useDispatch();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else{history.push('/login');}},[dispatch,history,userInfo]);return/*#__PURE__*/_jsxs(Container,{md:12,className:classes.container,style:{background:\"url(\".concat(image,\") no-repeat center/cover\")},children:[/*#__PURE__*/_jsx(Typography,{style:{fontSize:'40px',textAlign:'center'},children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Table,{size:\"small\",sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"User\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Date\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"TotalPrice\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Paid\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Delivered\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:orders.map(function(order){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order._id}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.user&&order.user.name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[\"$ \",order.price]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.isDelivered?order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/order/\".concat(order._id),className:\"btn-sm\",variant:\"light\",children:\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438\"})})]},order._id);})})]})]});};export default OrderListScreen;","map":{"version":3,"sources":["/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/src/screens/OrderListScreen/OrderListScreen.jsx"],"names":["React","useEffect","Link","useDispatch","useSelector","listOrders","Loader","Table","Button","TableRow","Container","TableHead","TableCell","TableBody","Typography","image","useStyles","OrderListScreen","location","history","classes","dispatch","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","push","container","background","fontSize","textAlign","minWidth","map","order","_id","user","name","createdAt","substring","price","isPaid","paidAt","color","isDelivered","deliveredAt"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { listOrders } from 'store/actions/orderActions';\n\nimport Loader from 'components/Loader';\n\nimport Table from '@mui/material/Table';\nimport Button from '@mui/material/Button';\nimport TableRow from '@mui/material/TableRow';\nimport Container from '@mui/material/Container';\nimport TableHead from '@mui/material/TableHead';\nimport TableCell from '@mui/material/TableCell';\nimport TableBody from '@mui/material/TableBody';\nimport Typography from '@mui/material/Typography';\n\nimport image from 'assets/detailBackground.jpg';\n\nimport useStyles from './styles';\n\nconst OrderListScreen = ({ location, history }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const orderList = useSelector(state => state.orderList);\n  const { loading, error, orders } = orderList;\n\n  const userLogin = useSelector(state => state.userLogin);\n  const { userInfo } = userLogin;\n\n  useEffect(() => {\n    if(userInfo && userInfo.isAdmin) {\n      dispatch(listOrders());\n    } else {\n      history.push('/login')\n    }\n  }, [dispatch, history, userInfo]);\n \n  return (\n    <Container\n      md={12}\n      className={classes.container}\n      style={{ background: `url(${image}) no-repeat center/cover` }}\n    >\n      <Typography style={{ fontSize: '40px', textAlign: 'center' }}>\n        Orders\n      </Typography>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Table size='small' sx={{ minWidth: 650 }} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell align='center'>ID</TableCell>\n              <TableCell align='center'>User</TableCell>\n              <TableCell align='center'>Date</TableCell>\n              <TableCell align='center'>TotalPrice</TableCell>\n              <TableCell align='center'>Paid</TableCell>\n              <TableCell align='center'>Delivered</TableCell>\n              <TableCell align='center'></TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {orders.map(order => (\n              <TableRow key={order._id}>\n                <TableCell align='center'>{order._id}</TableCell>\n                <TableCell align='center'>\n                  {order.user && order.user.name}\n                </TableCell>\n                <TableCell align='center'>{order.createdAt.substring(0, 10)}</TableCell>\n                <TableCell align='center'>$ {order.price}</TableCell>\n\n                <TableCell align='center'>{order.isPaid ? (\n                  order.paidAt.substring(0, 10)\n                ) : (\n                  <i className='fas fa-times' style={{color: 'red'}}></i>\n                )}\n                </TableCell>\n                <TableCell align='center'>{order.isDelivered ? (\n                  order.deliveredAt.substring(0, 10)\n                ) : (\n                  <i className='fas fa-times' style={{color: 'red'}}></i>\n                )}\n                </TableCell>\n                <TableCell align='center'>\n                <Button\n                    component={Link}\n                    to={`/order/${order._id}`}\n                    className='btn-sm'\n                    variant='light'\n                  >\n                   Детали\n                  </Button>                \n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </Container>\n  );\n};\n\nexport default OrderListScreen;\n"]},"metadata":{},"sourceType":"module"}