{"ast":null,"code":"import _slicedToArray from\"/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{register}from'store/actions/userActions';import Loader from'components/Loader';import Message from'components/Message';import Box from'@mui/material/Box';import Grid from'@mui/material/Grid';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import Container from'@mui/material/Container';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import image from'assets/detailBackground.jpg';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegistrationScreen=function RegistrationScreen(_ref){var location=_ref.location,history=_ref.history;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var loading=userRegister.loading,error=userRegister.error,userInfo=userRegister.userInfo;var redirect=location.search?location.search.split('=')[1]:'/';useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){setMessage('Passwords do not match');}else{dispatch(register(name,email,password));}};return/*#__PURE__*/_jsx(Container,{className:classes.container,style:{background:\"url(\".concat(image,\") no-repeat center/cover\")},children:/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",className:classes.formController,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'secondary.main',borderRadius:'0'},className:classes.logo,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(\"h3\",{className:classes.title,children:\"Sign up\"}),message&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:message}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,onSubmit:submitHandler,sx:{mt:3},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{autoComplete:\"given-name\",name:\"firstName\",required:true,fullWidth:true,id:\"firstName\",label:\"\\u0418\\u043C\\u044F\",type:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);},autoFocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,id:\"email\",label:\"Email \\u0410\\u0434\\u0440\\u0435\\u0441\",type:\"email\",name:\"email\",autoComplete:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,name:\"password\",label:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},autoComplete:\"on\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,id:\"confirmPassword\",label:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",autoComplete:\"on\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"link\",style:{width:'100%',marginTop:'30px'},disabled:password!==confirmPassword,children:\"Sign Up\"}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,style:{marginTop:'10px'},children:/*#__PURE__*/_jsx(Link,{to:redirect?\"/login?redirect=\".concat(redirect):'/login',variant:\"body2\",style:{color:'white'},children:\"Already have an account? Sign in\"})})})]})]})})});};export default RegistrationScreen;","map":{"version":3,"sources":["/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/src/screens/RegistrationScreen/RegistrationScreen.jsx"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","register","Loader","Message","Box","Grid","Avatar","Button","TextField","Container","LockOutlinedIcon","image","useStyles","RegistrationScreen","location","history","classes","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userRegister","state","loading","error","userInfo","redirect","search","split","push","submitHandler","e","preventDefault","container","background","formController","display","flexDirection","alignItems","bgcolor","borderRadius","logo","title","mt","target","value","width","marginTop","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { register } from 'store/actions/userActions';\n\nimport Loader from 'components/Loader';\nimport Message from 'components/Message';\n\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Container from '@mui/material/Container';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\n\nimport image from 'assets/detailBackground.jpg';\n\nimport useStyles from './styles';\n\nconst RegistrationScreen = ({ location, history }) => {\n  const classes = useStyles();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(null);\n\n  const dispatch = useDispatch();\n\n  const userRegister = useSelector(state => state.userRegister);\n  const { loading, error, userInfo } = userRegister;\n\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setMessage('Passwords do not match');\n    } else {\n      dispatch(register(name, email, password));\n    }\n  };\n\n  return (\n    <Container\n      className={classes.container}\n      style={{ background: `url(${image}) no-repeat center/cover` }}\n    >\n      <Container\n        component='main'\n        maxWidth='xs'\n        className={classes.formController}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar\n            sx={{ bgcolor: 'secondary.main', borderRadius: '0' }}\n            className={classes.logo}\n          >\n            <LockOutlinedIcon />\n          </Avatar>\n          <h3 className={classes.title}>Sign up</h3>\n          {message && <Message variant='danger'>{message}</Message>}\n          {error && <Message variant='danger'>{error}</Message>}\n          {loading && <Loader />}\n          <Box\n            component='form'\n            noValidate\n            onSubmit={submitHandler}\n            sx={{ mt: 3 }}\n          >\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete='given-name'\n                  name='firstName'\n                  required\n                  fullWidth\n                  id='firstName'\n                  label='Имя'\n                  type='name'\n                  value={name}\n                  onChange={e => setName(e.target.value)}\n                  autoFocus\n                  \n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  required\n                  fullWidth\n                  id='email'\n                  label='Email Адрес'\n                  type='email'\n                  name='email'\n                  autoComplete='email'\n                  value={email}\n                  onChange={e => setEmail(e.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  name='password'\n                  label='Введите пароль'\n                  type='password'\n                  id='password'\n                  value={password}\n                  onChange={e => setPassword(e.target.value)}\n                  autoComplete='on'\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  id='confirmPassword'\n                  label='Подтвердите пароль'\n                  type='password'\n                  autoComplete='on'\n                  value={confirmPassword}\n                  onChange={e => setConfirmPassword(e.target.value)}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type='submit'\n              fullWidth\n              variant='link'\n              style={{ width: '100%', marginTop: '30px' }}\n              disabled={password !== confirmPassword}\n            >\n              Sign Up\n            </Button>\n            <Grid container justifyContent='flex-end'>\n              <Grid item style={{ marginTop: '10px' }}>\n                <Link\n                  to={redirect ? `/login?redirect=${redirect}` : '/login'}\n                  variant='body2'\n                  style={{ color: 'white' }}\n                >\n                  Already have an account? Sign in\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n      </Container>\n    </Container>\n  );\n};\n\nexport default RegistrationScreen;\n"]},"metadata":{},"sourceType":"module"}