{"ast":null,"code":"import _toConsumableArray from\"/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Fb from'components/Fb';import Meta from'components/Meta';import Loader from'components/Loader';import Message from'components/Message';import Grid from'@mui/material/Grid';import Chip from'@mui/material/Chip';import Stack from'@mui/material/Stack';import Button from'@mui/material/Button';import Select from'@mui/material/Select';import MenuItem from'@mui/material/MenuItem';import{listProductDetails}from'store/actions/productActions';import useStyles from'./styles';import image from'assets/detailBackground.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDetailSection=function ProductDetailSection(_ref){var history=_ref.history,match=_ref.match;var classes=useStyles();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){if(!product._id||product._id!==match.params.id){dispatch(listProductDetails(match.params.id));}},[dispatch,match,product]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{component:Link,variant:\"link\",to:\"/\",style:{top:'100px',left:'104px'},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-around\",style:{background:\"url(\".concat(image,\") no-repeat center/cover\"),height:'100vh',padding:'120px 80px'},children:[/*#__PURE__*/_jsx(Meta,{title:product.name}),/*#__PURE__*/_jsx(Grid,{md:6,item:true,className:classes.details,children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:classes.brand,children:product.brand}),/*#__PURE__*/_jsx(\"h2\",{className:classes.title,children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:classes.description,children:product.description}),/*#__PURE__*/_jsx(Fb,{mb:5,mt:1,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Chip,{label:\"\".concat(product.type),variant:\"filled\"}),/*#__PURE__*/_jsx(Chip,{label:\"\".concat(product.weight),variant:\"filled\"})]})}),/*#__PURE__*/_jsxs(Fb,{alignCenter:true,children:[/*#__PURE__*/_jsx(Button,{variant:\"link\",disabled:(product===null||product===void 0?void 0:product.countInStock)<1,onClick:addToCartHandler,style:{marginRight:'20px'},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"}),product.countInStock>0?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Select,{variant:\"filled\",labelId:\"demo-simple-select-label\",style:{color:'white',background:'rgb(145 145 145 / 21%)',height:'35px',width:'70px',borderRadius:'0'},id:\"demo-simple-select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},className:classes.select,children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(MenuItem,{value:x+1,children:/*#__PURE__*/_jsx(\"p\",{children:x+1})},x+1);})})}):'Out of Stock']})]})}),/*#__PURE__*/_jsx(Grid,{item:true,md:5,children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{style:{background:\"url(\".concat(product.image,\") no-repeat center/cover\"),width:'100%',height:'100%'}})})]})]});};export default ProductDetailSection;","map":{"version":3,"sources":["/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/src/screens/ProductDetailScreen/ProductDetailScreen.jsx"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","Fb","Meta","Loader","Message","Grid","Chip","Stack","Button","Select","MenuItem","listProductDetails","useStyles","image","ProductDetailSection","history","match","classes","qty","setQty","dispatch","productDetails","state","loading","error","product","_id","params","id","addToCartHandler","push","top","left","background","height","padding","name","details","brand","title","description","type","weight","countInStock","marginRight","color","width","borderRadius","e","target","value","select","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Fb from 'components/Fb';\nimport Meta from 'components/Meta'\nimport Loader from 'components/Loader';\nimport Message from 'components/Message';\n\nimport Grid from '@mui/material/Grid';\nimport Chip from '@mui/material/Chip';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Select from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\n\nimport {\n  listProductDetails,\n} from 'store/actions/productActions';\n\nimport useStyles from './styles';\n\nimport image from 'assets/detailBackground.jpg';\n\nconst ProductDetailSection = ({ history, match }) => {\n  const classes = useStyles();\n  const [qty, setQty] = useState(1);\n\n  const dispatch = useDispatch();\n\n  const productDetails = useSelector(state => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    if (!product._id || product._id !== match.params.id) {\n      dispatch(listProductDetails(match.params.id));\n    }\n  }, [dispatch, match, product]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\n  };\n\n  return (\n    <>\n      <Button\n        component={Link}\n        variant='link'\n        to='/'\n        style={{ top: '100px', left: '104px' }}\n      >\n        Назад\n      </Button>\n      <Grid\n        container\n        justifyContent='space-around'\n        style={{\n          background: `url(${image}) no-repeat center/cover`,\n          height: '100vh',\n          padding: '120px 80px',\n        }}\n      >\n          <Meta title={product.name}/>\n            <Grid md={6} item className={classes.details}>\n              {loading ? <Loader/> : (\n                <>\n                <span className={classes.brand}>{product.brand}</span>\n                <h2 className={classes.title}>{product.name}</h2>\n                <p className={classes.description}>{product.description}</p>\n                <Fb mb={5} mt={1}>\n                  <Stack direction='row' spacing={1}>\n                    <Chip label={`${product.type}`} variant='filled' />\n                    <Chip label={`${product.weight}`} variant='filled' />\n                  </Stack>\n                </Fb>\n                <Fb alignCenter>\n                  <Button\n                    variant='link'\n                    disabled={product?.countInStock < 1}\n                    onClick={addToCartHandler}\n                    style={{ marginRight: '20px' }}\n                  >\n                    Добавить в корзину\n                  </Button>\n                  {product.countInStock > 0 ? (\n                    <div>\n                      <Select\n                        variant='filled'\n                        labelId='demo-simple-select-label'\n                        style={{\n                          color: 'white',\n                          background: 'rgb(145 145 145 / 21%)',\n                          height: '35px',\n                          width: '70px',\n                          borderRadius: '0',\n                        }}\n                        id='demo-simple-select'\n                        value={qty}\n                        onChange={e => setQty(e.target.value)}\n                        className={classes.select}\n                      >\n                        {[...Array(product.countInStock).keys()].map(x => (\n                          <MenuItem value={x + 1} key={x + 1}>\n                            <p>{x + 1}</p>\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </div>\n                  ) : (\n                    'Out of Stock'\n                  )}\n                </Fb>\n              \n                </>)}\n            </Grid>\n            <Grid item md={5}>\n              {loading ? <Loader/> : (\n                <div\n                style={{\n                  background: `url(${product.image}) no-repeat center/cover`,\n                  width: '100%',\n                  height: '100%',\n                }}\n              ></div>\n              )}\n            </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default ProductDetailSection;\n"]},"metadata":{},"sourceType":"module"}