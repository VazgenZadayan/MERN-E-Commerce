{"ast":null,"code":"import _toConsumableArray from\"/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useMemo}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{listProducts}from'store/actions/productActions';import Fb from'components/Fb';import Loader from'components/Loader';import Chip from'@mui/material/Chip';import Grid from'@mui/material/Grid';import Stack from'@mui/material/Stack';import Button from'@mui/material/Button';import Container from'@mui/material/Container';import Typography from'@mui/material/Typography';import KeyboardArrowDownIcon from'@mui/icons-material/KeyboardArrowDown';import useStyles from'./styles';import image from'../../assets/detailBackground.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Slider=function Slider(){var classes=useStyles();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeSlide=_useState2[0],setActiveSlide=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.productList;}),loading=_useSelector.loading,error=_useSelector.error,products=_useSelector.products;var slidesCount=useMemo(function(){return products===null||products===void 0?void 0:products.length;},[products]);useEffect(function(){dispatch(listProducts());},[dispatch]);useEffect(function(){var refreshIntervalId=setInterval(function(){return changeSlide('up');},4000);return function(){clearInterval(refreshIntervalId);};});var changeSlide=function changeSlide(direction){setActiveSlide(function(prev){if(direction==='up'){return prev>=slidesCount-1?0:prev+1;}else if(direction==='down'){return prev===0?slidesCount-1:prev-1;}});};var scrollDown=function scrollDown(){window.scrollTo({top:720,behavior:'smooth'});};return/*#__PURE__*/_jsx(_Fragment,{children:error?null:/*#__PURE__*/_jsxs(Container,{className:classes.container,style:{background:\"url(\".concat(image,\") no-repeat center/cover fixed\")},children:[/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.mainGrid,children:[/*#__PURE__*/_jsx(Grid,{item:true,md:4,ml:2,className:classes.sidebar,style:{transform:\"translateY(-\".concat(activeSlide*100,\"%)\")},children:loading?/*#__PURE__*/_jsx(Loader,{}):products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:classes.sideBarDiv,style:{background:\"url(\".concat(product.image,\") no-repeat center/cover\")}},product._id);})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,className:classes.mainSlide,style:{top:\"-\".concat((slidesCount-1)*100,\"%\"),transform:\"translateY(\".concat(activeSlide*100,\"%)\")},children:loading?/*#__PURE__*/_jsx(Loader,{}):_toConsumableArray(products).reverse().map(function(product){return/*#__PURE__*/_jsxs(Fb,{style:{background:'rgba(39,41,50, 0.30)'},className:classes.mainSlideDiv,column:true,pt:4,pr:16,pl:7,children:[/*#__PURE__*/_jsx(Typography,{color:\"primary\",style:{fontSize:'18px',fontFamily:'Burn'},children:product.brand}),/*#__PURE__*/_jsx(\"h1\",{className:classes.name,children:product.name}),/*#__PURE__*/_jsx(Typography,{variant:\"p\",className:classes.description,color:\"primary\",children:product.description}),/*#__PURE__*/_jsx(Fb,{mb:5,mt:1,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Chip,{label:\"\".concat(product.type),variant:\"filled\"}),/*#__PURE__*/_jsx(Chip,{label:\"\".concat(product.weight),variant:\"filled\"})]})}),/*#__PURE__*/_jsx(Button,{component:Link,to:\"/product/\".concat(product._id),variant:\"link\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})]},product._id);})})]}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{onClick:scrollDown,style:{fontSize:'60px',margin:'0 auto',display:'block',cursor:'pointer'},color:\"primary\"})]})});};export default Slider;","map":{"version":3,"sources":["/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/src/components/Slider/Slider.jsx"],"names":["React","useState","useEffect","useMemo","Link","useDispatch","useSelector","listProducts","Fb","Loader","Chip","Grid","Stack","Button","Container","Typography","KeyboardArrowDownIcon","useStyles","image","Slider","classes","activeSlide","setActiveSlide","dispatch","state","productList","loading","error","products","slidesCount","length","refreshIntervalId","setInterval","changeSlide","clearInterval","direction","prev","scrollDown","window","scrollTo","top","behavior","container","background","mainGrid","sidebar","transform","map","product","sideBarDiv","_id","mainSlide","reverse","mainSlideDiv","fontSize","fontFamily","brand","name","description","type","weight","margin","display","cursor"],"mappings":"8WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,OAArC,KAAoD,OAApD,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,KAA6B,8BAA7B,CAEA,MAAOC,CAAAA,EAAP,KAAe,eAAf,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,uCAAlC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,UAAtB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,mCAAlB,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAMC,CAAAA,OAAO,CAAGH,SAAS,EAAzB,CAEA,cAAsChB,QAAQ,CAAC,CAAD,CAA9C,wCAAOoB,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,iBAAqCC,WAAW,CAAC,SAAAkB,KAAK,QAAIA,CAAAA,KAAK,CAACC,WAAV,EAAN,CAAhD,CAAQC,OAAR,cAAQA,OAAR,CAAiBC,KAAjB,cAAiBA,KAAjB,CAAwBC,QAAxB,cAAwBA,QAAxB,CACA,GAAMC,CAAAA,WAAW,CAAG1B,OAAO,CAAC,iBAAMyB,CAAAA,QAAN,SAAMA,QAAN,iBAAMA,QAAQ,CAAEE,MAAhB,EAAD,CAAyB,CAACF,QAAD,CAAzB,CAA3B,CAEA1B,SAAS,CAAC,UAAM,CACdqB,QAAQ,CAAChB,YAAY,EAAb,CAAR,CACD,CAFQ,CAEN,CAACgB,QAAD,CAFM,CAAT,CAIArB,SAAS,CAAC,UAAM,CACd,GAAM6B,CAAAA,iBAAiB,CAAGC,WAAW,CAAC,iBAAMC,CAAAA,WAAW,CAAC,IAAD,CAAjB,EAAD,CAA0B,IAA1B,CAArC,CACA,MAAO,WAAM,CACXC,aAAa,CAACH,iBAAD,CAAb,CACD,CAFD,CAGD,CALQ,CAAT,CAOA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAE,SAAS,CAAI,CAC/Bb,cAAc,CAAC,SAAAc,IAAI,CAAI,CACrB,GAAID,SAAS,GAAK,IAAlB,CAAwB,CACtB,MAAOC,CAAAA,IAAI,EAAIP,WAAW,CAAG,CAAtB,CAA0B,CAA1B,CAA8BO,IAAI,CAAG,CAA5C,CACD,CAFD,IAEO,IAAID,SAAS,GAAK,MAAlB,CAA0B,CAC/B,MAAOC,CAAAA,IAAI,GAAK,CAAT,CAAaP,WAAW,CAAG,CAA3B,CAA+BO,IAAI,CAAG,CAA7C,CACD,CACF,CANa,CAAd,CAOD,CARD,CAUA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBC,MAAM,CAACC,QAAP,CAAgB,CACdC,GAAG,CAAE,GADS,CAEdC,QAAQ,CAAE,QAFI,CAAhB,EAID,CALD,CAOA,mBACE,yBACGd,KAAK,CAAG,IAAH,cACJ,MAAC,SAAD,EACE,SAAS,CAAEP,OAAO,CAACsB,SADrB,CAEE,KAAK,CAAE,CAAEC,UAAU,eAASzB,KAAT,kCAAZ,CAFT,wBAIE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAEE,OAAO,CAACwB,QAAnC,wBACE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,CAFN,CAGE,EAAE,CAAE,CAHN,CAIE,SAAS,CAAExB,OAAO,CAACyB,OAJrB,CAKE,KAAK,CAAE,CAAEC,SAAS,uBAAiBzB,WAAW,CAAG,GAA/B,MAAX,CALT,UAOGK,OAAO,cACN,KAAC,MAAD,IADM,CAGNE,QAAQ,CAACmB,GAAT,CAAa,SAAAC,OAAO,qBAClB,YACE,SAAS,CAAE5B,OAAO,CAAC6B,UADrB,CAGE,KAAK,CAAE,CACLN,UAAU,eAASK,OAAO,CAAC9B,KAAjB,4BADL,CAHT,EAEO8B,OAAO,CAACE,GAFf,CADkB,EAApB,CAVJ,EADF,cAsBE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,CAFN,CAGE,SAAS,CAAE9B,OAAO,CAAC+B,SAHrB,CAIE,KAAK,CAAE,CACLX,GAAG,YAAM,CAACX,WAAW,CAAG,CAAf,EAAoB,GAA1B,KADE,CAELiB,SAAS,sBAAgBzB,WAAW,CAAG,GAA9B,MAFJ,CAJT,UASGK,OAAO,cACN,KAAC,MAAD,IADM,CAGN,mBAAIE,QAAJ,EAAcwB,OAAd,GAAwBL,GAAxB,CAA4B,SAAAC,OAAO,qBACjC,MAAC,EAAD,EACE,KAAK,CAAE,CAAEL,UAAU,CAAE,sBAAd,CADT,CAEE,SAAS,CAAEvB,OAAO,CAACiC,YAFrB,CAIE,MAAM,KAJR,CAKE,EAAE,CAAE,CALN,CAME,EAAE,CAAE,EANN,CAOE,EAAE,CAAE,CAPN,wBASE,KAAC,UAAD,EACE,KAAK,CAAC,SADR,CAEE,KAAK,CAAE,CACLC,QAAQ,CAAE,MADL,CAELC,UAAU,CAAE,MAFP,CAFT,UAOGP,OAAO,CAACQ,KAPX,EATF,cAkBE,WACE,SAAS,CAAEpC,OAAO,CAACqC,IADrB,UAGGT,OAAO,CAACS,IAHX,EAlBF,cAuBE,KAAC,UAAD,EAAY,OAAO,CAAC,GAApB,CAAwB,SAAS,CAAErC,OAAO,CAACsC,WAA3C,CAAwD,KAAK,CAAC,SAA9D,UACGV,OAAO,CAACU,WADX,EAvBF,cA0BE,KAAC,EAAD,EAAI,EAAE,CAAE,CAAR,CAAW,EAAE,CAAE,CAAf,uBACE,MAAC,KAAD,EAAO,SAAS,CAAC,KAAjB,CAAuB,OAAO,CAAE,CAAhC,wBACE,KAAC,IAAD,EACE,KAAK,WAAKV,OAAO,CAACW,IAAb,CADP,CAEE,OAAO,CAAC,QAFV,EADF,cAKE,KAAC,IAAD,EACE,KAAK,WAAKX,OAAO,CAACY,MAAb,CADP,CAEE,OAAO,CAAC,QAFV,EALF,GADF,EA1BF,cAsCE,KAAC,MAAD,EACE,SAAS,CAAExD,IADb,CAEE,EAAE,oBAAc4C,OAAO,CAACE,GAAtB,CAFJ,CAGE,OAAO,CAAC,MAHV,gHAtCF,GAGOF,OAAO,CAACE,GAHf,CADiC,EAAnC,CAZJ,EAtBF,GAJF,cAyFE,KAAC,qBAAD,EACE,OAAO,CAAEb,UADX,CAEE,KAAK,CAAE,CACLiB,QAAQ,CAAE,MADL,CAELO,MAAM,CAAE,QAFH,CAGLC,OAAO,CAAE,OAHJ,CAILC,MAAM,CAAE,SAJH,CAFT,CAQE,KAAK,CAAC,SARR,EAzFF,GAFJ,EADF,CA0GD,CA9ID,CAgJA,cAAe5C,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { listProducts } from 'store/actions/productActions';\n\nimport Fb from 'components/Fb';\nimport Loader from 'components/Loader';\n\nimport Chip from '@mui/material/Chip';\nimport Grid from '@mui/material/Grid';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Container from '@mui/material/Container';\nimport Typography from '@mui/material/Typography';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\n\nimport useStyles from './styles';\n\nimport image from '../../assets/detailBackground.jpg';\n\nconst Slider = () => {\n  const classes = useStyles();\n  \n  const [activeSlide, setActiveSlide] = useState(0);\n  const dispatch = useDispatch();\n  const { loading, error, products } = useSelector(state => state.productList);\n  const slidesCount = useMemo(() => products?.length, [products]);\n\n  useEffect(() => {\n    dispatch(listProducts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    const refreshIntervalId = setInterval(() => changeSlide('up'), 4000);\n    return () => {\n      clearInterval(refreshIntervalId);\n    };\n  });\n\n  const changeSlide = direction => {\n    setActiveSlide(prev => {\n      if (direction === 'up') {\n        return prev >= slidesCount - 1 ? 0 : prev + 1;\n      } else if (direction === 'down') {\n        return prev === 0 ? slidesCount - 1 : prev - 1;\n      }\n    });\n  };\n\n  const scrollDown = () => {\n    window.scrollTo({\n      top: 720,\n      behavior: 'smooth',\n    });\n  };\n  \n  return (\n    <>\n      {error ? null : (\n        <Container\n          className={classes.container}\n          style={{ background: `url(${image}) no-repeat center/cover fixed` }}\n        >\n          <Grid container className={classes.mainGrid}>\n            <Grid\n              item\n              md={4}\n              ml={2}\n              className={classes.sidebar}\n              style={{ transform: `translateY(-${activeSlide * 100}%)` }}\n            >\n              {loading ? (\n                <Loader />\n              ) : (\n                products.map(product => (\n                  <div\n                    className={classes.sideBarDiv}\n                    key={product._id}\n                    style={{\n                      background: `url(${product.image}) no-repeat center/cover`,\n                    }}\n                  />\n                ))\n              )}\n            </Grid>\n            <Grid\n              item\n              md={8}\n              className={classes.mainSlide}\n              style={{\n                top: `-${(slidesCount - 1) * 100}%`,\n                transform: `translateY(${activeSlide * 100}%)`,\n              }}\n            >\n              {loading ? (\n                <Loader />\n              ) : (\n                [...products].reverse().map(product => (\n                  <Fb\n                    style={{ background: 'rgba(39,41,50, 0.30)' }}\n                    className={classes.mainSlideDiv}\n                    key={product._id}\n                    column\n                    pt={4}\n                    pr={16}\n                    pl={7}\n                  >\n                    <Typography\n                      color='primary'\n                      style={{\n                        fontSize: '18px',\n                        fontFamily: 'Burn',\n                      }}\n                    >\n                      {product.brand}\n                    </Typography>\n                    <h1\n                      className={classes.name}\n                    >\n                      {product.name}\n                    </h1>\n                    <Typography variant='p' className={classes.description} color='primary'>\n                      {product.description}\n                    </Typography>\n                    <Fb mb={5} mt={1}>\n                      <Stack direction='row' spacing={1}>\n                        <Chip\n                          label={`${product.type}`}\n                          variant='filled'\n                        />\n                        <Chip\n                          label={`${product.weight}`}\n                          variant='filled'\n                        />\n                      </Stack>\n                    </Fb>\n                    <Button\n                      component={Link}\n                      to={`/product/${product._id}`}\n                      variant='link'\n                    >\n                      Добавить в корзину\n                    </Button>\n                  </Fb>\n                ))\n              )}\n            </Grid>\n          </Grid>\n          <KeyboardArrowDownIcon\n            onClick={scrollDown}\n            style={{\n              fontSize: '60px',\n              margin: '0 auto',\n              display: 'block',\n              cursor: 'pointer',\n            }}\n            color='primary'\n          />\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default Slider;\n"]},"metadata":{},"sourceType":"module"}