{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{listMyOrders}from'store/actions/orderActions';import Loader from'components/Loader';import Message from'components/Message';import Table from'@mui/material/Table';import Button from'@mui/material/Button';import TableRow from'@mui/material/TableRow';import Container from'@mui/material/Container';import TableHead from'@mui/material/TableHead';import TableCell from'@mui/material/TableCell';import TableBody from'@mui/material/TableBody';import Typography from'@mui/material/Typography';import image from'assets/detailBackground.jpg';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileScreen=function ProfileScreen(_ref){var location=_ref.location,history=_ref.history;var classes=useStyles();var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var user=userDetails.user;var orderListMy=useSelector(function(state){return state.orderListMy;});var loadingOrders=orderListMy.loading,errorOrders=orderListMy.error,orders=orderListMy.orders;useEffect(function(){if(!user.name){dispatch(listMyOrders());}},[dispatch,user]);return/*#__PURE__*/_jsxs(Container,{md:12,className:classes.container,style:{background:\"url(\".concat(image,\") no-repeat center/cover\")},children:[/*#__PURE__*/_jsx(Typography,{style:{fontSize:'40px',textAlign:'center'},children:\"My Orders\"}),loadingOrders?/*#__PURE__*/_jsx(Loader,{}):errorOrders?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorOrders}):/*#__PURE__*/_jsxs(Table,{size:\"small\",sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"\\u0414\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"\\u041E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043E\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\\u043E\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:orders.map(function(order){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order._id}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.totalPrice}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:order.isDelivered?order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/order/\".concat(order._id),className:\"btn-sm\",variant:\"light\",children:\"Details\"})})]},order._id);})})]})]});};export default ProfileScreen;","map":{"version":3,"sources":["/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/src/screens/ProfileScreen/ProfileScreen.jsx"],"names":["React","useEffect","Link","useDispatch","useSelector","listMyOrders","Loader","Message","Table","Button","TableRow","Container","TableHead","TableCell","TableBody","Typography","image","useStyles","ProfileScreen","location","history","classes","dispatch","userDetails","state","user","orderListMy","loadingOrders","loading","errorOrders","error","orders","name","container","background","fontSize","textAlign","minWidth","map","order","_id","createdAt","substring","totalPrice","isPaid","paidAt","color","isDelivered","deliveredAt"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { listMyOrders } from 'store/actions/orderActions';\n\nimport Loader from 'components/Loader';\nimport Message from 'components/Message';\n\nimport Table from '@mui/material/Table';\nimport Button from '@mui/material/Button';\nimport TableRow from '@mui/material/TableRow';\nimport Container from '@mui/material/Container';\nimport TableHead from '@mui/material/TableHead';\nimport TableCell from '@mui/material/TableCell';\nimport TableBody from '@mui/material/TableBody';\nimport Typography from '@mui/material/Typography';\n\nimport image from 'assets/detailBackground.jpg';\n\nimport useStyles from './styles';\n\nconst ProfileScreen = ({ location, history }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { user } = userDetails;\n\n  const orderListMy = useSelector(state => state.orderListMy);\n  const { loading: loadingOrders, error: errorOrders, orders } = orderListMy;\n\n  useEffect(() => {\n    if(!user.name) {\n      dispatch(listMyOrders());\n    }\n  }, [dispatch, user])\n  return (\n    <Container\n      md={12}\n      className={classes.container}\n      style={{ background: `url(${image}) no-repeat center/cover` }}\n    >\n      <Typography style={{ fontSize: '40px', textAlign: 'center' }}>\n        My Orders\n      </Typography>\n      {loadingOrders ? (\n        <Loader />\n      ) : errorOrders ? (\n        <Message variant='danger'>{errorOrders}</Message>\n      ) : (\n        <Table size='small' sx={{ minWidth: 650 }} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell align='center'>ID</TableCell>\n              <TableCell align='center'>Дата</TableCell>\n              <TableCell align='center'>Сумма</TableCell>\n              <TableCell align='center'>Оплачено</TableCell>\n              <TableCell align='center'>Доставлено</TableCell>\n              <TableCell align='center'></TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {orders.map(order => (\n              <TableRow key={order._id}>\n                <TableCell align='center'>{order._id}</TableCell>\n                <TableCell align='center'>\n                  {order.createdAt.substring(0, 10)}\n                </TableCell>\n                <TableCell align='center'>{order.totalPrice}</TableCell>\n                <TableCell align='center'>\n                  {order.isPaid ? (\n                    order.paidAt.substring(0, 10)\n                  ) : (\n                    <i className='fas fa-times' style={{ color: 'red' }}></i>\n                  )}\n                </TableCell>\n                <TableCell align='center'>\n                  {order.isDelivered ? (\n                    order.deliveredAt.substring(0, 10)\n                  ) : (\n                    <i className='fas fa-times' style={{ color: 'red' }}></i>\n                  )}\n                </TableCell>\n                <TableCell align='center'>\n                  <Button\n                    component={Link}\n                    to={`/order/${order._id}`}\n                    className='btn-sm'\n                    variant='light'\n                  >\n                    Details\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </Container>\n  );\n};\n\nexport default ProfileScreen;\n"]},"metadata":{},"sourceType":"module"}