{"ast":null,"code":"import _slicedToArray from\"/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{login}from'../../store/actions/userActions';import Loader from'../../components/Loader';import Box from'@mui/material/Box';import Grid from'@mui/material/Grid';import Button from'@mui/material/Button';import Avatar from'@mui/material/Avatar';import Container from'@mui/material/Container';import TextField from'@mui/material/TextField';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import image from'assets/detailBackground.jpg';import useStyles from'./styles';import{useTranslations}from'contexts/translation.context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(_ref){var location=_ref.location,history=_ref.history;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useTranslations=useTranslations(),t=_useTranslations.t,lang=_useTranslations.lang;var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var loading=userLogin.loading,userInfo=userLogin.userInfo;var redirect=location.search?location.search.split('=')[1]:'/';useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsx(Grid,{container:true,className:classes.container,style:{background:\"url(\".concat(image,\") no-repeat center/cover\")},children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",className:classes.formController,children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'secondary.main',borderRadius:'0'},className:classes.logo,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(\"h3\",{className:classes.title,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:submitHandler,noValidate:true,color:\"primary\",sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email \\u0410\\u0434\\u0440\\u0435\\u0441\",name:\"email\",autoComplete:\"email\",autoFocus:true,type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",color:\"primary\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"link\",style:{width:'100%'},children:t('login_btn_text')}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,mt:4,children:/*#__PURE__*/_jsx(Link,{to:redirect?\"/register?redirect=\".concat(redirect):'/register',variant:\"body2\",style:{color:'rgba(255, 255, 255, 0.6)'},children:'У Вас еще нет аккаунта? Зарегистрироваться!'})})})]})]})});};export default LoginScreen;","map":{"version":3,"sources":["/Users/vazgenzadayan/Documents/Projects/online_shop/frontend/src/screens/LoginScreen/LoginScreen.jsx"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","login","Loader","Box","Grid","Button","Avatar","Container","TextField","LockOutlinedIcon","image","useStyles","useTranslations","LoginScreen","location","history","classes","email","setEmail","password","setPassword","t","lang","dispatch","userLogin","state","loading","userInfo","redirect","search","split","push","submitHandler","e","preventDefault","container","background","formController","bgcolor","borderRadius","logo","title","mt","target","value","width","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../store/actions/userActions';\n\nimport Loader from '../../components/Loader';\n\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport Avatar from '@mui/material/Avatar';\nimport Container from '@mui/material/Container';\nimport TextField from '@mui/material/TextField';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\n\nimport image from 'assets/detailBackground.jpg';\nimport useStyles from './styles';\nimport { useTranslations } from 'contexts/translation.context';\n\nconst LoginScreen = ({ location, history }) => {\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { t, lang } = useTranslations();\n\n  const dispatch = useDispatch();\n\n  const userLogin = useSelector(state => state.userLogin);\n  const { loading, userInfo } = userLogin;\n\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  return (\n    <Grid\n      container\n      className={classes.container}\n      style={{\n        background: `url(${image}) no-repeat center/cover`,\n      }}\n    >\n      <Container\n        component='main'\n        maxWidth='xs'\n        className={classes.formController}\n      >\n        <Avatar\n          sx={{ bgcolor: 'secondary.main', borderRadius: '0' }}\n          className={classes.logo}\n        >\n          <LockOutlinedIcon color='primary'/>\n        </Avatar>\n        <h3 className={classes.title}>Войти</h3>\n        {loading ? (\n          <Loader />\n        ) : (\n          <Box\n            component='form'\n            onSubmit={submitHandler}\n            noValidate\n            color='primary'\n            sx={{ mt: 1 }}\n          >\n            <TextField\n              margin='normal'\n              required\n              fullWidth\n              id='email'\n              label='Email Адрес'\n              name='email'\n              autoComplete='email'\n              autoFocus\n              type='email'\n              value={email}\n              onChange={e => setEmail(e.target.value)}\n            />\n            <TextField\n              margin='normal'\n              required\n              fullWidth\n              name='password'\n              label='Пароль'\n              type='password'\n              color='primary'\n              id='password'\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              autoComplete='current-password'\n            />\n            <Button\n              type='submit'\n              fullWidth\n              variant='link'\n              style={{ width: '100%' }}\n            >\n              {t('login_btn_text')}\n            </Button>\n            <Grid container>\n              <Grid item mt={4}>\n                <Link\n                  to={redirect ? `/register?redirect=${redirect}` : '/register'}\n                  variant='body2'\n                  style={{ color: 'rgba(255, 255, 255, 0.6)' }}\n                >\n                  {'У Вас еще нет аккаунта? Зарегистрироваться!'}\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        )}\n      </Container>\n    </Grid>\n  );\n};\n\nexport default LoginScreen;\n"]},"metadata":{},"sourceType":"module"}